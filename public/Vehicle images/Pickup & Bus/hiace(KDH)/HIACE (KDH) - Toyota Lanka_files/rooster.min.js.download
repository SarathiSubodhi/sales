function Rooster(t,e,n){function o(t,e){var o,a,s="";return s+=`<div class="rooster-job" data-job-department="${t.department}" data-job-employment-type="${t.jobType}" ">`,s+='<a href="'+(n?"https://staging-board.rooster.jobs/":"https://boards.rooster.jobs/")+"jobs/"+t.id+'">',s+="<h3>"+t.title+"</h3>",s+="</a>",s+='<div class="data-row">',s+='<span class="inline-value" data-department="'+t.department+'">'+t.department+"</span>",s+='<span class="inline-value" data-location="'+t.location+'">'+t.location+"</span>",s+='<span class="inline-value" data-employment-type="'+t.jobType+'" >'+(((a={"full-time":"Full-time",internship:"Internship","part-time":"Part-time",casual:"Casual",contract:"Contract",volunteer:"Volunteer"})[o=t.jobType]?a[o]:"")+"</span>"),s+=t.salaryRange?`<span class="inline-value" data-salary>${t.salaryRange.currency} ${t.salaryRange.min.toLocaleString("en-US")} - ${t.salaryRange.max.toLocaleString("en-US")}/${t.salaryRange.frequency}</span>`:"",s+="</div>",(s+='<a href="'+(n?"https://staging-board.rooster.jobs/":"https://boards.rooster.jobs/")+"jobs/"+t.id+'" class="rooster-btn-apply">Apply Now</a>')+"</div>"}this.jobs=[],this.config={roosterDiv:t||"",companyId:e,sandbox:n||!1},this.setup=function(){var t=this,e=document.querySelector(this.config.roosterDiv);e&&(e.innerHTML='<div><div class="rooster-filter"><input type="search" placeholder="Search for Jobs" name="searchTerm" class="rooster-search"></div><div class="jobs-list"></div></div>',t.setCompanyJobs(""),document.querySelector(this.config.roosterDiv+" .rooster-search").addEventListener("keyup",(function(e){console.log(e.target.value),t.renderJobs(e.target.value)})))},this.loadCompanyJobs=function(){var t=this;return fetch((n?"https://staging-api.rooster.jobs/core/":"https://api.rooster.jobs/core/")+"graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n          query FetchCompanyJobs($id: Int!){\n            fetchOneCompanyPublic(id: $id){\n              name\n              activeJobs{\n                id\n                title\n                department\n                location\n                jobType\n                tags\n salaryRange{ currency min max frequency}              }\n            }\n          }\n        ",variables:{id:this.config.companyId}})}).then((function(t){return t.json()})).catch((function(t){return console.log("Rooster Error"),console.log(t),[]})).then((function(e){let n=e.data.fetchOneCompanyPublic?e.data.fetchOneCompanyPublic.activeJobs:[];t.jobs=n}))},this.renderJobs=function(t){var e=this.jobs.filter((function(e){return e.title.match(RegExp((t||"").replace(/\\/gi,""),"ig"))})),n=this.config;document.querySelector(n.roosterDiv+" .jobs-list").innerHTML=function(t,e,n){var a,s="";if(e){for(var r={},i=[],l=0;l<t.length;l+=1)r[(a=t[l]).department]?r[a.department]=[...r[a.department],a]:(i.push(a.department),r[a.department]=[a]);for(var c=0;c<i.length;c+=1)for(s+=`<div class="rooster-department-header" data-job-department="${i[c]}">`,s+="<h3>"+i[c]+"</h3>",s+="</div>",l=0;l<r[i[c]].length;l+=1)s+=o(a=r[i[c]][l]);return s}for(l=0;l<t.length;l+=1)s+=o(a=t[l]);return s}(e,!(t&&t.length>0),n.sandbox)},this.setCompanyJobs=function(t){var e=this;this.loadCompanyJobs(t).then((function(){e.renderJobs()}))},this.setup=this.setup.bind(this),this.loadCompanyJobs=this.loadCompanyJobs.bind(this),this.setCompanyJobs=this.setCompanyJobs.bind(this)}